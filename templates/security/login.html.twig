{% extends 'base.html.twig' %}

{% block title %}Log in!{% endblock %}

{% block body %}

    <div class="flex justify-center login-container-small login-container-all flex-col items-center relative">
        <form data-aos="zoom-in" data-aos-duration="1000" method="post" class="flex flex-col items-center text-white text-2xl lg:text-2xl w-3/6 md:w-2/6">

            <h1 class="font-orbitron text-center m-8">KGSE</h1>
            <div class="rounded-full bg-white border-4 border-white">
                {% if app.user %}
                    <img src="{{ asset('/images/admin/08.jpg') }}" alt="admin-avatar" class="object-fill h-16 w-16 rounded-full">
                {% else %}
                    <svg xmlns="http://www.w3.org/2000/svg" class="h-16 text-black " viewBox="0 0 20 20" fill="currentColor">
                        <path fill-rule="evenodd" d="M10 9a3 3 0 100-6 3 3 0 000 6zm-7 9a7 7 0 1114 0H3z" clip-rule="evenodd" />
                    </svg>
                {% endif %}
            </div>
            <h2 class="font-orbitron mt-2 text-lg">LOGIN</h2>
            <div>
                <div class="m-8">
{#                    <label class="mr-8" for="inputEmail">Email</label>#}
                    <input class="bg-white rounded-md text-black px-3 text-lg py-1 font-open-sans" type="email" placeholder="Email address" value="{{ last_username }}" name="email" id="inputEmail" class="form-control" autocomplete="email" required autofocus>
                </div>
                <div class="mt-8 mx-8 mb-2 relative " >
{#                    <label for="inputPassword">Password</label>#}
                    <input class="bg-white rounded-md text-black px-3 text-lg py-1 font-open-sans" type="password" placeholder="Password" name="password" id="inputPassword" class="form-control" autocomplete="current-password" required>
                    <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 absolute text-black top-3 right-1" viewBox="0 0 20 20" fill="currentColor">
                        <path fill-rule="evenodd" d="M5 9V7a5 5 0 0110 0v2a2 2 0 012 2v5a2 2 0 01-2 2H5a2 2 0 01-2-2v-5a2 2 0 012-2zm8-2v2H7V7a3 3 0 016 0z" clip-rule="evenodd" />
                    </svg>
                </div>

            </div>

            <input type="hidden" name="_csrf_token"
                   value="{{ csrf_token('authenticate') }}"
            >

            {#        Uncomment this section and add a remember_me option below your firewall to activate remember me functionality.#}
            {#        See https://symfony.com/doc/current/security/remember_me.html#}

            <div class="checkbox mb-3 font-open-sans font-light">
                <label class="text-lg">
                    <input  type="checkbox" name="_remember_me"> Remember me
                </label>
            </div>


            <button class="font-segoe rounded-xl bg-purple-500 w-56 text-sm py-2 border border-white" type="submit">
                LOG IN
            </button>
            {% if error %}
                <div class="alert alert-danger font-open-sans text-lg font-light text-red-600 mt-2">{{ error.messageKey|trans(error.messageData, 'security') }}</div>
            {% endif %}
            {% if app.user %}
                <div class="mb-3 flex flex-col items-center font-segoe text-sm font-extralight">
                    <span class="my-2">
                        You are logged in as {{ app.user.username }}
                    </span>
                    <span class="my-2">
                        <a class="bg-red-600 border border-white py-2 px-3 rounded-xl text-sm" href="{{ path('app_logout') }}">LOGOUT</a>
                    </span>
                </div>
            {% endif %}
        </form>
        <div class="rounded-full bg-white border-2 border-black absolute top-3 right-3">
            <a href="{{ path('home') }}">
                <i class="fa-solid fa-house-chimney fa-2x p-1 hover:text-red-600/75"></i>
            </a>
        </div>
    </div>
    {% include 'elements/footer.html.twig' %}
{% endblock %}

